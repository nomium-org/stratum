services:
    clickhouse:
        image: clickhouse:latest
        container_name: clickhouse
        environment:
          - CLICKHOUSE_DB=mining
          - CLICKHOUSE_USER=${CLICKHOUSE_USER}
          - CLICKHOUSE_PASSWORD=${CLICKHOUSE_PASSWORD}
        restart: always
        privileged: true
        volumes:
          - /var/log/clickhouse-server:/var/log/clickhouse-server
        ports:
          - 8123:8123
        network_mode: host
    
    pool:
        image: ${NEXUS_URL}/rrp-pool:latest
        restart: always
        environment:
          - RUST_LOG=warning
        container_name: pool
        network_mode: host
 
    translator:
        image: ${NEXUS_URL}/rrp-translator:latest
        restart: always
        environment:
          - REDROCK_API_URL=https://qa.redrockpool.com/equipment-api/v1/worker-authentication
          - REDROCK_API_KEY=ZcU8z5W87ufe
          - REDROCK_TIMEOUT_SECONDS=5
          - RUST_LOG=warning
        container_name: translator
        network_mode: host
